<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

    <title>chat-bot demo</title>

    <script src="../../webcomponentsjs/webcomponents-loader.js"></script>

    <link rel="import" href="../../iron-demo-helpers/demo-pages-shared-styles.html">
    <link rel="import" href="../../iron-demo-helpers/demo-snippet.html">
    <link rel="import" href="../../polymer/lib/elements/dom-bind.html">
    <link rel="import" href="../chat-bot.html">
    <script src="../models/Node.js"></script>

    <custom-style>
      <style is="custom-style" include="demo-pages-shared-styles">
      </style>
    </custom-style>
  </head>
  <body>
    <div class="vertical-section-container centered">
      <h3>Basic chat-bot demo</h3>
      <demo-snippet>
        <template>
          <dom-bind id=app>
            <template>
              <chat-bot title="Hi I'm a bot" nodes="[[nodes]]"></chat-bot>
            </template>
          </dom-bind>

          <script>
            //inicia todos los nodos
            const node1 = new Polymer.Node();
            const bienvenida2 = new Polymer.Node();
            const ordenar = new Polymer.Node();
            const confirmOrdenar = new Polymer.Node();
            const comida = new Polymer.Node();
            const bebida = new Polymer.Node();
            const agua = new Polymer.Node();
            const cerveza = new Polymer.Node();
            const hamburguesa = new Polymer.Node();
            const chilaquiles = new Polymer.Node();
            const sopa = new Polymer.Node();
            // set a las propiedades de node1
            node1.question = "Hola! Yo soy un bot que te ayudará a ordenar tu comida. Te iré haciando preguntas y con los botones que te apareceran abajo, podras elegir la opción deseada. ¿Entendiste?";
            node1.options.set('si', ordenar);
            node1.options.set('no', bienvenida2);
            node1.from = 'bot'
            // set a las propiedades de bienvenida2
            bienvenida2.question = "Soy un bot que te ayudará a elegir entre las bastas opciones que hay. Voy a ir poniendo preguntas en la pantalla y con los botones verdes de la parte superior tu iras contestastando a dichas preguntas. ¿Entendiste?";
            bienvenida2.options.set('si', ordenar);
            bienvenida2.options.set('no', node1);
            bienvenida2.from = 'bot'
            // set a las propiedades de ordenar
            ordenar.question = "¿Que deseas ordenar?";
            ordenar.options.set('nada', confirmOrdenar);
            ordenar.options.set('comida', comida);
            ordenar.options.set('bebida', bebida);
            ordenar.from = 'bot'
            // set a las propiedades de confirmOrdenar
            confirmOrdenar.question = "¿En verdad no gutas ordenar nada?";
            confirmOrdenar.options.set('no ordenar', node1);
            confirmOrdenar.options.set('si ordenar', ordenar);
            confirmOrdenar.from = 'bot'
            // set propiedades de comida
            comida.question = "Tenemos estas opciones. Elige una de ellas";
            comida.options.set('hamburguesa', hamburguesa);
            comida.options.set('chilaquiles', chilaquiles);
            comida.options.set('sopa', sopa);
            comida.from = 'bot';
            // set propiedades de debida
            bebida.question = "Tenemos estas opciones. Elige una de ellas";
            bebida.options.set('cerveza', cerveza);
            bebida.options.set('agua', agua);
            bebida.from = 'bot';
            // set propiedades de hamburguesa
            hamburguesa.question = "Muy bien, en un momento traeremos tu hamburguesa. Gracias por tu preferencia";
            hamburguesa.isFinal = true
            hamburguesa.from = 'bot';
            // set propiedades de sopa
            sopa.question = "Muy bien, en un momento traeremos tu sopa. Gracias por tu preferencia";
            sopa.isFinal = true
            sopa.from = 'bot';
            // set propiedades de chilaquiles
            chilaquiles.question = "Muy bien, en un momento traeremos tu chilaquiles. Gracias por tu preferencia";
            chilaquiles.isFinal = true
            chilaquiles.from = 'bot';
            // set propiedades de agua
            agua.question = "Muy bien, en un momento traeremos tu agua. Gracias por tu preferencia";
            agua.isFinal = true
            agua.from = 'bot';
            // set propiedades de cerveza
            cerveza.question = "Muy bien, en un momento traeremos tu cerveza. Gracias por tu preferencia";
            cerveza.isFinal = true
            cerveza.from = 'bot';

            const element = document.querySelector('#app');
            element.nodes = [node1, bienvenida2, ordenar, confirmOrdenar, hamburguesa, sopa, comida, chilaquiles];
          </script>

        </template>
      </demo-snippet>
    </div>
  </body>
</html>
